define(["jquery","i18n","modal/signin","modal/alert","post"],function(n,e,o,i,t){n.fn.extend({jobPost:function(){return this.length&&t.mobileGo(this),this.each(function(){var t=n(this),a=t.data("id"),c=t.find('input[name="fave"]'),f=t.find(".fave-caption");c.change(function(){n.post("/job/fave/"+a,function(n){n.success?(c.prop("checked",n.fave),f.text(e(n.fave?"Избранная вакансия":"Добавить в избранное"))):(c.prop("checked",!1),401==n.code?o():i.error(e("Unknown error")))})}),t.on("click",".claim-job",function(e){e.preventDefault(),n("body").data("logged")?require(["modal/complain"],function(n){n("job",a)}):require(["modal/signin"],function(n){n()})})})}})});