define(["jquery"],function(a){a.fn.extend({markWidget:function(){return this.find(".mark-widget-marks .mark").hover(function(){var t=a(this),e=t.closest(".mark-widget"),i=e.find(".mark-widget-caption");e.find(".mark-widget-marks .mark").removeClass("hover active").slice(0,t.index()+1).addClass("hover"),i.text(t.data("caption"))}).click(function(){var t=a(this),e=t.closest(".mark-widget"),i=t.index();e.find(".mark-widget-marks .mark").removeClass("active curr-active").slice(0,i+1).addClass("active curr-active"),e.find(".mark-widget-input").val(t.data("rate")),e.removeClass("mark-widget-error")}),this.find(".mark-widget-marks").mouseleave(function(){var t=a(this).closest(".mark-widget"),e=t.find(".mark-widget-caption");t.find(".mark-widget-marks .mark").removeClass("hover").filter(".curr-active").addClass("active");var i=t.find(".mark-widget-marks .mark.curr-active");i.length?e.text(i.eq(-1).data("caption")):e.text(e.data("start-caption")||"")}),this}})});