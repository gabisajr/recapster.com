require(["/js/common.js"],function(){require(["jquery","BIT","showMessageModal","i18n"],function(n,a,e,i){var d=n("form#add-salary-form"),t=d.find(".money-format"),o=d.find("input.base_pay"),s=d.find("select.currency");o.keyup(function(){t.trigger("update")}),s.change(function(){t.trigger("update")}),t.on("update",function(){var n=parseFloat(o.val());t.text(n?n.formatMoney(0,","," ")+" "+s.val():"")}),d.find('input[name="has_additional_payments"]').change(function(){n(this).val()==a.YES?d.find(".additional-payments").removeClass("hidden"):d.find(".additional-payments").addClass("hidden")});var p=d.find("#company-add-process-wrap");d.find("input.company.title").keyup(function(){n(this).val()||(p.html(""),d.find(".job-status").addClass("hidden"))}).change(function(){loadNewCompanyFields(this)}),d.on("change",'input[type="radio"][name="company"]',function(){d.find(".job-status").removeClass("hidden")}),d.find('input[name="hidden_employer"]').change(function(){n(this).is(":checked")?(d.find(".about-company").removeClass("hidden"),d.find("input.company").val("").prop("disabled",!0),d.find("input.company.title").removeClass("error"),d.find("img.logo.autocomplete").attr("src","/images/empty-logo.jpg"),d.find(".job-status").addClass("hidden"),p.html("")):(d.find(".about-company").addClass("hidden"),d.find("input.company").prop("disabled",!1).focus())}),d.find('input[name="active_employee"]').change(function(){n(this).val()==a.NO?d.find(".last-year").removeClass("hidden"):d.find(".last-year").addClass("hidden")}),d.submit(function(a){var d=n(this),t=d.find("input.company.title").val(),o=d.find('input[name="hidden_employer"]').is(":checked"),s=d.find('input[name="want_create_company"]').is(":checked"),p=d.find('input[name="company"]').val()||d.find('input[type="radio"][name="company"]:checked').val()||null;o||p||s||(a.preventDefault(),t||e(i('Введите название компании-работодателя или отметьте флажок "Я предпочитаю не указывать работодателя"'),i("Не хватает данных...")))})})});